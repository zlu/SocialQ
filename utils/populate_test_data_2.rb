# VERSION 2
%w(rubygems bunny json).each { |lib| require lib }
config = YAML.load(File.open('../config/application.yml'))
bunny = Bunny.new(:user    => 'rabbit0002',
                  :pass    => 'RbIEJfCuMc',
                  :host    => 'ec2-67-202-42-147.compute-1.amazonaws.com',
                  :port    => 15002,
                  :vhost   => '/rabbit0002',
                  :logging => true)
bunny.start

q = bunny.queue('socialq')

msg = '[{"agents":[],"users":[{"guid":"4fa090e1-b1fa-482e-9909-e8e64e89ecca","klout":{"twitter_screen_name":"aplusk","twitter_id":"19058681","score":{"kscore":83.94,"kclass_description":"You have built a personal brand around your identity. There is a good chance that you work in social media or marketing but you might even be famous in real life. Being a persona is not just about having a ton of followers, to make it to the top right corner you need to engage with your audience. Make no mistake about it though, when you talk people listen.","slope":-0.08,"amplification_score":76.15,"network_score":86.27,"kscore_description":null,"true_reach":"1928961","kclass":"persona"}},"queue_name":"1272982110","time":"Tue May 04 07:08:30 -0700 2010","tweet_watchword":null,"phone_number":"jsgoecke","channel":"phone","queue_weight":177.88,"social_influence_rank":10,"twitter_profile":{"profile_sidebar_fill_color":"DDFFCC","profile_sidebar_border_color":"BDDCAD","profile_background_tile":true,"name":"ashton kutcher","created_at":"Fri Jan 16 07:40:06 +0000 2009","location":"Los Angeles, California","profile_image_url":"http://a1.twimg.com/profile_images/638714290/profile_pic_normal.jpg","profile_link_color":"8f000e","url":"http://www.facebook.com/Ashton","contributors_enabled":false,"favourites_count":77,"id":19058681,"utc_offset":-18000,"lang":"en","followers_count":4846449,"profile_text_color":"333333","protected":false,"verified":true,"description":"I make stuff, actually I make up stuff, stories mostly, collaborations of thoughts, dreams, and actions. Thats me.","notifications":null,"profile_background_color":"9AE4E8","geo_enabled":false,"time_zone":"Eastern Time (US & Canada)","status":{"created_at":"Mon May 03 23:39:57 +0000 2010","truncated":false,"favorited":false,"text":"RT @katalysthq: Check out the newest tune from @katbadar -lets hear it for one of our favorite artists! http://ow.ly/1GpbC","id":13332969565,"in_reply_to_user_id":null,"in_reply_to_screen_name":null,"source":"Brizzly","in_reply_to_status_id":null},"profile_background_image_url":"http://a3.twimg.com/profile_background_images/56586067/Picture_4.png","statuses_count":5324,"friends_count":467,"screen_name":"aplusk","following":null}}]}]'
q.publish(msg)

msg = '[{"agents":[],"users":[{"guid":"4fa090e1-b1fa-482e-9909-e8e64e89ecca","klout":{"twitter_screen_name":"aplusk","twitter_id":"19058681","score":{"kscore":83.94,"kclass_description":"You have built a personal brand around your identity. There is a good chance that you work in social media or marketing but you might even be famous in real life. Being a persona is not just about having a ton of followers, to make it to the top right corner you need to engage with your audience. Make no mistake about it though, when you talk people listen.","slope":-0.08,"amplification_score":76.15,"network_score":86.27,"kscore_description":null,"true_reach":"1928961","kclass":"persona"}},"queue_name":"1272982110","time":"Tue May 04 07:08:30 -0700 2010","tweet_watchword":null,"phone_number":"jsgoecke","channel":"phone","queue_weight":177.88,"social_influence_rank":10,"twitter_profile":{"profile_sidebar_fill_color":"DDFFCC","profile_sidebar_border_color":"BDDCAD","profile_background_tile":true,"name":"ashton kutcher","created_at":"Fri Jan 16 07:40:06 +0000 2009","location":"Los Angeles, California","profile_image_url":"http://a1.twimg.com/profile_images/638714290/profile_pic_normal.jpg","profile_link_color":"8f000e","url":"http://www.facebook.com/Ashton","contributors_enabled":false,"favourites_count":77,"id":19058681,"utc_offset":-18000,"lang":"en","followers_count":4846449,"profile_text_color":"333333","protected":false,"verified":true,"description":"I make stuff, actually I make up stuff, stories mostly, collaborations of thoughts, dreams, and actions. Thats me.","notifications":null,"profile_background_color":"9AE4E8","geo_enabled":false,"time_zone":"Eastern Time (US & Canada)","status":{"created_at":"Mon May 03 23:39:57 +0000 2010","truncated":false,"favorited":false,"text":"RT @katalysthq: Check out the newest tune from @katbadar -lets hear it for one of our favorite artists! http://ow.ly/1GpbC","id":13332969565,"in_reply_to_user_id":null,"in_reply_to_screen_name":null,"source":"Brizzly","in_reply_to_status_id":null},"profile_background_image_url":"http://a3.twimg.com/profile_background_images/56586067/Picture_4.png","statuses_count":5324,"friends_count":467,"screen_name":"aplusk","following":null}},{"guid":"41fb17c1-de1b-452a-b2e1-88a0446f3983","klout":{"result":"Not found"},"queue_name":"twitter","time":"Tue May 04 07:09:45 -0700 2010","tweet_watchword":null,"phone_number":"14153675082","channel":"twitter","queue_weight":8,"social_influence_rank":0,"twitter_profile":{"profile_sidebar_fill_color":"DDEEF6","profile_sidebar_border_color":"C0DEED","profile_background_tile":true,"name":"LenosSquirrel","created_at":"Thu Mar 11 01:12:27 +0000 2010","location":"Malibu","profile_image_url":"http://a1.twimg.com/profile_images/745430850/squirrel_normal.jpg","profile_link_color":"0084B4","url":null,"contributors_enabled":false,"favourites_count":0,"id":121916400,"utc_offset":-28800,"lang":"en","followers_count":1,"profile_text_color":"333333","protected":false,"geo_enabled":false,"description":"Glad Leno stays out later these days.","verified":false,"notifications":false,"profile_background_color":"C0DEED","time_zone":"Pacific Time (US & Canada)","status":{"created_at":"Tue May 04 14:09:13 +0000 2010","truncated":false,"favorited":false,"text":"@squirrelrific I like peanuts, much better than walnuts!","id":13366396613,"in_reply_to_user_id":128687136,"in_reply_to_screen_name":"squirrelrific","source":"Tweetie","in_reply_to_status_id":null},"profile_background_image_url":"http://a1.twimg.com/profile_background_images/82164118/acorn_large.jpg","statuses_count":42,"friends_count":5,"screen_name":"LenosSquirrel","following":false}}]}]'
q.publish(msg)

msg = '[{"agents":[],"users":[{"guid":"4fa090e1-b1fa-482e-9909-e8e64e89ecca","klout":{"twitter_screen_name":"aplusk","twitter_id":"19058681","score":{"kscore":83.94,"kclass_description":"You have built a personal brand around your identity. There is a good chance that you work in social media or marketing but you might even be famous in real life. Being a persona is not just about having a ton of followers, to make it to the top right corner you need to engage with your audience. Make no mistake about it though, when you talk people listen.","slope":-0.08,"amplification_score":76.15,"network_score":86.27,"kscore_description":null,"true_reach":"1928961","kclass":"persona"}},"queue_name":"1272982110","time":"Tue May 04 07:08:30 -0700 2010","tweet_watchword":null,"phone_number":"jsgoecke","channel":"phone","queue_weight":177.88,"social_influence_rank":10,"twitter_profile":{"profile_sidebar_fill_color":"DDFFCC","profile_sidebar_border_color":"BDDCAD","profile_background_tile":true,"name":"ashton kutcher","created_at":"Fri Jan 16 07:40:06 +0000 2009","location":"Los Angeles, California","profile_image_url":"http://a1.twimg.com/profile_images/638714290/profile_pic_normal.jpg","profile_link_color":"8f000e","url":"http://www.facebook.com/Ashton","contributors_enabled":false,"favourites_count":77,"id":19058681,"utc_offset":-18000,"lang":"en","followers_count":4846449,"profile_text_color":"333333","protected":false,"verified":true,"description":"I make stuff, actually I make up stuff, stories mostly, collaborations of thoughts, dreams, and actions. Thats me.","notifications":null,"profile_background_color":"9AE4E8","geo_enabled":false,"time_zone":"Eastern Time (US & Canada)","status":{"created_at":"Mon May 03 23:39:57 +0000 2010","truncated":false,"favorited":false,"text":"RT @katalysthq: Check out the newest tune from @katbadar -lets hear it for one of our favorite artists! http://ow.ly/1GpbC","id":13332969565,"in_reply_to_user_id":null,"in_reply_to_screen_name":null,"source":"Brizzly","in_reply_to_status_id":null},"profile_background_image_url":"http://a3.twimg.com/profile_background_images/56586067/Picture_4.png","statuses_count":5324,"friends_count":467,"screen_name":"aplusk","following":null}},{"guid":"41fb17c1-de1b-452a-b2e1-88a0446f3983","klout":{"result":"Not found"},"queue_name":"twitter","time":"Tue May 04 07:09:45 -0700 2010","tweet_watchword":"fail","phone_number":"14153675082","channel":"twitter","queue_weight":13,"social_influence_rank":0,"twitter_profile":{"profile_sidebar_fill_color":"DDEEF6","profile_sidebar_border_color":"C0DEED","profile_background_tile":true,"name":"LenosSquirrel","created_at":"Thu Mar 11 01:12:27 +0000 2010","location":"Malibu","profile_image_url":"http://a1.twimg.com/profile_images/745430850/squirrel_normal.jpg","profile_link_color":"0084B4","url":null,"contributors_enabled":false,"favourites_count":0,"id":121916400,"utc_offset":-28800,"lang":"en","followers_count":1,"profile_text_color":"333333","protected":false,"geo_enabled":false,"description":"Glad Leno stays out later these days.","verified":false,"notifications":false,"profile_background_color":"C0DEED","time_zone":"Pacific Time (US & Canada)","status":{"created_at":"Tue May 04 14:09:13 +0000 2010","truncated":false,"favorited":false,"text":"@squirrelrific I like peanuts, much better than walnuts!","id":13366396613,"in_reply_to_user_id":128687136,"in_reply_to_screen_name":"squirrelrific","source":"Tweetie","in_reply_to_status_id":null},"profile_background_image_url":"http://a1.twimg.com/profile_background_images/82164118/acorn_large.jpg","statuses_count":42,"friends_count":5,"screen_name":"LenosSquirrel","following":false}}]}]'
q.publish(msg)

p 'Published some data!'